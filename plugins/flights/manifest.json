{
  "id": "flights",
  "name": "Flight Tracker",
  "version": "1.0.0",
  "description": "Display nearby aircraft with call signs, altitude, and speed",
  "author": "FiestaBoard Team",
  "repository": "https://github.com/FiestaBoard/FiestaBoard",
  "documentation": "README.md",
  "icon": "plane",
  "category": "data",

  "settings_schema": {
    "type": "object",
    "properties": {
      "enabled": {
        "type": "boolean",
        "title": "Enable Flight Tracker",
        "default": false
      },
      "api_key": {
        "type": "string",
        "title": "aviationstack API Key",
        "description": "Get a free key at aviationstack.com",
        "ui:widget": "password"
      },
      "latitude": {
        "type": "number",
        "title": "Latitude",
        "description": "Monitoring location latitude",
        "default": 37.7749
      },
      "longitude": {
        "type": "number",
        "title": "Longitude",
        "description": "Monitoring location longitude",
        "default": -122.4194
      },
      "radius_km": {
        "type": "number",
        "title": "Search Radius (km)",
        "description": "Radius to search for aircraft",
        "default": 50,
        "minimum": 10,
        "maximum": 200
      },
      "max_count": {
        "type": "integer",
        "title": "Max Flights",
        "description": "Maximum flights to display (1-4)",
        "default": 4,
        "minimum": 1,
        "maximum": 4
      },
      "refresh_seconds": {
        "type": "integer",
        "title": "Refresh Interval (seconds)",
        "default": 60,
        "minimum": 30
      }
    },
    "required": ["api_key"]
  },

  "env_vars": [
    {
      "name": "AVIATIONSTACK_API_KEY",
      "required": true,
      "description": "aviationstack API key"
    },
    {
      "name": "FLIGHTS_LATITUDE",
      "required": false,
      "description": "Monitoring location latitude",
      "default": "37.7749"
    },
    {
      "name": "FLIGHTS_LONGITUDE",
      "required": false,
      "description": "Monitoring location longitude",
      "default": "-122.4194"
    },
    {
      "name": "FLIGHTS_RADIUS_KM",
      "required": false,
      "description": "Search radius in kilometers",
      "default": "50"
    },
    {
      "name": "FLIGHTS_MAX_COUNT",
      "required": false,
      "description": "Maximum flights to display",
      "default": "4"
    }
  ],

  "variables": {
    "simple": [
      "call_sign",
      "altitude",
      "ground_speed",
      "squawk",
      "latitude",
      "longitude",
      "distance_km",
      "formatted",
      "flight_count"
    ],
    "arrays": {
      "flights": {
        "label_field": "call_sign",
        "item_fields": [
          "call_sign",
          "altitude",
          "ground_speed",
          "squawk",
          "latitude",
          "longitude",
          "distance_km",
          "formatted"
        ]
      }
    }
  },

  "max_lengths": {
    "call_sign": 8,
    "altitude": 5,
    "ground_speed": 4,
    "squawk": 4,
    "latitude": 8,
    "longitude": 9,
    "distance_km": 4,
    "formatted": 22,
    "flight_count": 1,
    "flights.*.call_sign": 8,
    "flights.*.altitude": 5,
    "flights.*.ground_speed": 4,
    "flights.*.squawk": 4,
    "flights.*.formatted": 22
  }
}

