{
  "id": "baywheels",
  "name": "Bay Wheels",
  "version": "1.0.0",
  "description": "Display Bay Wheels bike share availability with electric and classic bike counts",
  "author": "FiestaBoard Team",
  "repository": "https://github.com/FiestaBoard/FiestaBoard",
  "documentation": "README.md",
  "icon": "bike",
  "category": "transit",

  "settings_schema": {
    "type": "object",
    "properties": {
      "enabled": {
        "type": "boolean",
        "title": "Enable Bay Wheels",
        "default": false
      },
      "station_ids": {
        "type": "array",
        "title": "Station IDs",
        "description": "Bay Wheels station IDs to monitor",
        "items": {
          "type": "string"
        },
        "ui:widget": "baywheels-station-picker"
      },
      "refresh_seconds": {
        "type": "integer",
        "title": "Refresh Interval (seconds)",
        "default": 60,
        "minimum": 30
      }
    },
    "required": ["station_ids"]
  },

  "env_vars": [
    {
      "name": "BAYWHEELS_ENABLED",
      "required": false,
      "description": "Enable Bay Wheels feature",
      "default": "false"
    },
    {
      "name": "BAYWHEELS_STATION_IDS",
      "required": false,
      "description": "Comma-separated list of station IDs"
    }
  ],

  "variables": {
    "simple": [
      "electric_bikes",
      "classic_bikes",
      "num_bikes_available",
      "is_renting",
      "station_name",
      "status_color",
      "total_electric",
      "total_classic",
      "total_bikes",
      "station_count",
      "best_station_name",
      "best_station_electric",
      "best_station_id"
    ],
    "arrays": {
      "stations": {
        "label_field": "station_name",
        "item_fields": [
          "station_id",
          "station_name",
          "electric_bikes",
          "classic_bikes",
          "num_bikes_available",
          "is_renting",
          "status_color"
        ]
      }
    }
  },

  "max_lengths": {
    "electric_bikes": 2,
    "classic_bikes": 2,
    "num_bikes_available": 2,
    "is_renting": 3,
    "station_name": 10,
    "status_color": 4,
    "total_electric": 2,
    "total_classic": 2,
    "total_bikes": 2,
    "station_count": 1,
    "best_station_name": 10,
    "best_station_electric": 2,
    "best_station_id": 15,
    "stations.*.station_name": 10,
    "stations.*.electric_bikes": 2,
    "stations.*.classic_bikes": 2,
    "stations.*.status_color": 4
  },

  "color_rules_schema": {
    "electric_bikes": {
      "type": "threshold",
      "description": "Color based on electric bike count",
      "default_rules": [
        {"condition": ">", "value": 5, "color": "green"},
        {"condition": ">=", "value": 2, "color": "yellow"},
        {"condition": "<", "value": 2, "color": "red"}
      ]
    }
  }
}

